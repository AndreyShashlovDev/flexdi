{"version":3,"file":"index.js","sources":["../../../../src/react/provider/ModuleContext.ts","../../../../src/react/hook/useCurrentModule.ts","../../../../src/core/di/types.ts","../../../../src/core/di/ModuleRef.ts","../../../../src/core/di/Dependency.ts","../../../../src/core/di/ModuleManagerFactory.ts","../../../../src/core/di/preloadModule.ts","../../../../src/react/router/ModuleGuard.tsx","../../../../src/react/provider/ModuleLoader.tsx","../../../../src/react/provider/ModuleProvider.tsx","../../../../src/react/router/ModuleRouter.tsx","../../../../src/react/hook/useInject.ts","../../../../src/react/hook/useObservable.ts","../../../../src/react/hook/usePresenter.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["ModuleContext","createContext","useCurrentModule","context","useContext","Error","moduleClass","Scope","ModuleRef","constructor","options","isSingleton","moduleManagerInstance","this","providers","Map","imports","exports","Set","initialized","initializing","rootModule","instanceCache","name","isExported","token","tokenName","getTokenName","has","getLocalProvider","get","resolveProvider","provider","scope","TRANSIENT","resolve","instance","SINGLETON","set","importedModule","_a","_b","parentModules","findParentModules","parentModule","parentModuleRef","getLoadedModule","_c","getTokenDebugName","initialize","Promise","checkInterval","setInterval","clearInterval","length","importClass","isSingletonModule","getModuleOptions","registerModule","push","exportToken","exportTokenName","reexportRef","ProviderRef","sourceModule","factory","providerOptions","registerProvider","add","found","console","warn","preInitializeExports","error","provide","providerRef","classProvider","targetClass","useClass","Reflect","getMetadata","SCOPE_METADATA_KEY","getClassScope","injectionTokens","injectMetadata","INJECT_METADATA_KEY","maxParamIndex","Object","keys","Math","max","map","Number","params","Array","fill","index","entries","getInjectionTokens","dependencies","missingDependencies","isLocallyAvailable","isAvailableThroughImports","isAvailableInRoot","missingTokensStr","String","join","deps","valueProvider","type","useValue","factoryProvider","useFactory","tokenProvider","useToken","dep","some","exp","dispose","values","clear","Symbol","for","MODULE_METADATA_KEY","SINGLETON_MODULE_METADATA_KEY","moduleRef","all","async","missingDeps","filter","_","undefined","result","onDisposeInstance","ModuleManager","moduleRefs","singletonModuleRefs","rootModuleRef","moduleImports","initializationPromises","isRootModule","parentModuleNames","parentName","parentRef","isModuleLoaded","loadModule","existingPromise","initPromise","delete","getService","unloadModule","dependentModules","findDependentModules","importedClass","otherModuleRef","importedRef","ModuleManagerFactory","getInstance","_instance","setInstance","manager","resetInstance","ModuleGuard","module","children","LoadingComponent","ErrorComponent","isLoading","useRef","isLoaded","setIsLoaded","useState","setError","useEffect","current","isMounted","preloadModule","then","catch","err","React","createElement","Fragment","InternalModuleLoader","ErrorBoundary","fallback","Suspense","Provider","value","ENABLE_STRICT_MODE","ModuleProvider","mounted","moduleManager","loadModuleAsync","enableStrictMode","path","Component","element","key","useMemo","observable","initialValue","setValue","subscription","subscribe","next","unsubscribe","presenterToken","args","isFirstInit","indexForStrictMode","strictCallsCount","presenter","useLayoutEffect","init","destroy","JSON","stringify"],"mappings":"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"}