{"version":3,"file":"index.js","sources":["../../../../src/react/provider/ModuleContext.ts","../../../../src/react/hook/useCurrentModule.ts","../../../../src/core/di/types.ts","../../../../src/core/di/Dependency.ts","../../../../src/react/router/ModuleGuard.tsx","../../../../src/core/di/preloadModule.ts","../../../../src/react/provider/ModuleLoader.tsx","../../../../src/react/provider/ModuleProvider.tsx","../../../../src/react/router/ModuleRouter.tsx","../../../../src/react/hook/useInject.ts","../../../../src/react/hook/useObservable.ts","../../../../src/react/hook/usePresenter.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null],"names":["ModuleContext","createContext","useCurrentModule","context","useContext","Error","moduleClass","Scope","INJECT_METADATA_KEY","Symbol","for","MODULE_METADATA_KEY","SCOPE_METADATA_KEY","SINGLETON_MODULE_METADATA_KEY","getModuleOptions","options","Reflect","getMetadata","name","isSingletonModule","targetClass","getTokenDebugName","token","String","getTokenName","ProviderRef","constructor","type","moduleRef","this","instance","factory","dependencies","scope","SINGLETON","sourceModule","resolve","deps","Promise","all","map","async","dep","resolveProvider","error","rootModule","_a","missingDeps","filter","_","index","undefined","length","join","result","dispose","onDisposeInstance","ModuleRef","isSingleton","providers","Map","imports","exports","Set","initialized","initializing","instanceCache","isExported","tokenName","has","getLocalProvider","get","provider","TRANSIENT","set","importedModule","_b","parentModules","moduleManager","findParentModules","parentModule","parentModuleRef","getLoadedModule","_c","initialize","checkInterval","setInterval","clearInterval","importClass","registerModule","push","exportToken","exportTokenName","reexportRef","providerOptions","registerProvider","add","found","console","warn","preInitializeExports","provide","providerRef","classProvider","useClass","getClassScope","injectionTokens","injectMetadata","maxParamIndex","Object","keys","Math","max","Number","params","Array","fill","entries","getInjectionTokens","missingDependencies","isLocallyAvailable","isAvailableThroughImports","isAvailableInRoot","missingTokensStr","valueProvider","useValue","factoryProvider","useFactory","tokenProvider","useToken","some","exp","values","clear","moduleRefs","singletonModuleRefs","rootModuleRef","moduleImports","initializationPromises","isRootModule","parentModuleNames","parentName","parentRef","isModuleLoaded","loadModule","existingPromise","initPromise","delete","getService","unloadModule","dependentModules","findDependentModules","importedClass","otherModuleRef","importedRef","ModuleGuard","module","children","LoadingComponent","ErrorComponent","isLoading","useRef","isLoaded","setIsLoaded","useState","setError","useEffect","current","isMounted","preloadModule","then","catch","err","React","createElement","Fragment","InternalModuleLoader","ErrorBoundary","fallback","Suspense","Provider","value","ENABLE_STRICT_MODE","ModuleProvider","mounted","loadModuleAsync","enableStrictMode","path","Component","element","key","useMemo","observable","initialValue","setValue","subscription","subscribe","next","unsubscribe","presenterToken","args","isFirstInit","indexForStrictMode","strictCallsCount","presenter","useLayoutEffect","init","destroy","JSON","stringify"],"mappings":"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"}